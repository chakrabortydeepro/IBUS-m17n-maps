;; sa-brahmi.mim -- Input method for Brahmi using Harvard-Kyoto keyboard input. 
;; The symbols for vocalic r and l have been changed, symbols for upadhmaniya, 
;; jihvamuliya, Tamil Brahmi characters, two varieties of numerals and punctuation
;; marks have been added.  
;; Copyright (C) 2021  Dominik Wujastyk 

;; This file is part of the m17n contrib; a sub-part of the m17n
;; library.

;; The m17n library is free software; you can redistribute it and/or
;; modify it under the terms of the GNU Lesser General Public License
;; as published by the Free Software Foundation; either version 2.1 of
;; the License, or (at your option) any later version.

;; The m17n library is distributed in the hope that it will be useful,
;; but WITHOUT ANY WARRANTY; without even the implied warranty of
;; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
;; Lesser General Public License for more details.

;; You should have received a copy of the GNU Lesser General Public
;; License along with the m17n library; if not, write to the Free
;; Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
;; Boston, MA 02110-1301, USA.

(input-method sa BRAHMI )

(input-method sa harvard-kyoto)

(description "Sanscrit input method with Harvard-Kyoto convention.
The table is based on 
  <http://en.wikipedia.org/wiki/Harvard-Kyoto>
")

(title "Brahmi")

(map
 (starter
  ((S-\ )) ((C-@))
  ("0") ("1") ("2") ("3") ("4") ("5") ("6") ("7") ("8") ("9")
  ("A") ("D") ("G") ("H") ("I") ("J") ("L") ("P") ("K")
  ("M") ("N") ("O") ("R") ("S") ("T") ("U")
  ("a") ("b") ("c") ("d") ("e") ("g") ("h") ("i")
  ("j") ("k") ("l") ("m") ("n") ("o") ("p") ("r")
  ("s") ("t") ("u") ("v") ("y") ("z") (".") ("|") ("-") ("=") ("@") ("*") ("~")
  ((KP_1)) ((KP_2)) ((KP_3)) ((KP_4)) ((KP_5))
  ((KP_6)) ((KP_7)) ((KP_8)) ((KP_9)) ((KP_0)))

 (consonant
  ("k" "ğ‘€“ğ‘†")
  ("kh" "ğ‘€”ğ‘†")
  ("g" "ğ‘€•ğ‘†")
  ("gh" "ğ‘€–ğ‘†")
  ("G" "ğ‘€—ğ‘†")
  ("c" "ğ‘€˜ğ‘†")
  ("ch" "ğ‘€™ğ‘†")
  ("j" "ğ‘€šğ‘†")
  ("jh" "ğ‘€›ğ‘†")
  ("J" "ğ‘€œğ‘†")
  ("T" "ğ‘€ğ‘†")
  ("Th" "ğ‘€ğ‘†")
  ("D" "ğ‘€Ÿğ‘†")
  ("Dh" "ğ‘€ ğ‘†")
  ("N" "ğ‘€¡ğ‘†")
  ("t" "ğ‘€¢ğ‘†")
  ("th" "ğ‘€£ğ‘†")
  ("d" "ğ‘€¤ğ‘†")
  ("dh" "ğ‘€¥ğ‘†")
  ("n" "ğ‘€¦ğ‘†")
  ("p" "ğ‘€§ğ‘†")
  ("ph" "ğ‘€¨ğ‘†")
  ("b" "ğ‘€©ğ‘†")
  ("bh" "ğ‘€ªğ‘†")
  ("m" "ğ‘€«ğ‘†")
  ("y" "ğ‘€¬ğ‘†")
  ("r" "ğ‘€­ğ‘†")
  ("l" "ğ‘€®ğ‘†")
  ("v" "ğ‘€¯ğ‘†")
  ("z" "ğ‘€°ğ‘†")
  ("S" "ğ‘€±ğ‘†")
  ("s" "ğ‘€²ğ‘†")
  ("h" "ğ‘€³ğ‘†")
  ("L" "ğ‘€´ğ‘†")         ; not in Harvard-Kyoto, retroflex l
  ("zh" "ğ‘€µğ‘†")         ; not in Harvard-Kyoto, Dravidian retroflex lateral approximant zh
  ("RRR" "ğ‘€¶ğ‘†")        ; not in Harvard-Kyoto, Dravidian vallinam r, originally an alveolar t
  ("NN" "ğ‘€·ğ‘†"))        ; not in Harvard-Kyoto, Dravidian alveolar n

 (independent
  ("~" "ğ‘€€")          ; not in Harvard-Kyoto, Candrabindu
  ("M" "ğ‘€")
  ("H" "ğ‘€‚")         
  ("K" "ğ‘€ƒ")          ; not in Harvard-Kyoto, Jihvamuliya          
  ("P" "ğ‘€„")          ; not in Harvard-Kyoto, Upadhmaniya
  ("a" "ğ‘€…")
  ("A" "ğ‘€†")
  ("i" "ğ‘€‡")
  ("I" "ğ‘€ˆ")
  ("u" "ğ‘€‰")
  ("U" "ğ‘€Š")
  ("R" "ğ‘€‹")
  ("LL" "ğ‘€")         ; different in Harvard-Kyoto, vocalic short l 
  ("e" "ğ‘€")
  ("ai" "ğ‘€")
  ("o" "ğ‘€‘")
  ("au" "ğ‘€’")
  ("RR" "ğ‘€Œ")
  ("LLL" "ğ‘€")        ; different in Harvard-Kyoto, vocalic long l
  ("|" "ğ‘‡")          ; not in Harvard-Kyoto, danda 
  ("||"  "ğ‘ˆ")        ; not in Harvard-Kyoto, double danda 
  ("-" "ğ‘‰")          ; not in Harvard-Kyoto, Brahmi punctuation dot  
  ("=" "ğ‘Š")          ; not in Harvard-Kyoto, Brahmi punctuation double dot
  ("--" "ğ‘‹")        ; not in Harvard-Kyoto, Brahmi punctuation line 
  ("@" "ğ‘Œ")         ; not in Harvard-Kyoto, Brahmi punctuation crescend line 
  ("*" "ğ‘")         ; not in Harvard-Kyoto, Brahmi punctuation lotus
  ("0" "ğ‘¦")          ; Brahmi digit 0
  ("1" "ğ‘§")         ; Brahmi digit 1
  ("2" "ğ‘¨")         ; Brahmi digit 2 
  ("3" "ğ‘©")         ; Brahmi digit 3
  ("4" "ğ‘ª")         ; Brahmi digit 4
  ("5" "ğ‘«")         ; Brahmi digit 5
  ("6" "ğ‘¬")         ; Brahmi digit 6
  ("7" "ğ‘­")         ; Brahmi digit 7 
  ("8" "ğ‘®")         ; Brahmi digit 8
  ("9" "ğ‘¯")         ; Brahmi digit 9 
  ("11" "ğ‘’")        ; not in Harvard-Kyoto, Brahmi number 1
  ("22" "ğ‘“")        ; not in Harvard-Kyoto, Brahmi number 2
  ("33" "ğ‘”")        ; not in Harvard-Kyoto, Brahmi number 3
  ("44" "ğ‘•")        ; not in Harvard-Kyoto, Brahmi number 4
  ("55" "ğ‘–")        ; not in Harvard-Kyoto, Brahmi number 5 
  ("66" "ğ‘—")        ; not in Harvard-Kyoto, Brahmi number 6
  ("77" "ğ‘˜")        ; not in Harvard-Kyoto, Brahmi number 7
  ("88" "ğ‘™")        ; not in Harvard-Kyoto, Brahmi number 8
  ("99" "ğ‘š")        ; not in Harvard-Kyoto, Brahmi number 9
  ("10" "ğ‘›")       ; not in Harvard-Kyoto, Brahmi number 10 
  ("20" "ğ‘œ")        ; not in Harvard-Kyoto, Brahmi number 20
  ("30" "ğ‘")        ; not in Harvard-Kyoto, Brahmi number 30
  ("40" "ğ‘")        ; not in Harvard-Kyoto, Brahmi number 40
  ("50" "ğ‘Ÿ")        ; not in Harvard-Kyoto, Brahmi number 50
  ("60" "ğ‘ ")        ; not in Harvard-Kyoto, Brahmi number 60
  ("70" "ğ‘¡")        ; not in Harvard-Kyoto, Brahmi number 70
  ("80" "ğ‘¢")       ; not in Harvard-Kyoto, Brahmi number 80
  ("90" "ğ‘£")        ; not in Harvard-Kyoto, Brahmi number 90
  ("100" "ğ‘¤")       ; not in Harvard-Kyoto, Brahmi number 100 
  ("1000" "ğ‘¥")      ; not in Harvard-Kyoto, Brahmi number 1000
  ((KP_0) "ğ‘¦")
  ((KP_1) "ğ‘§")
  ((KP_2) "ğ‘¨")
  ((KP_3) "ğ‘©")
  ((KP_4) "ğ‘ª")
  ((KP_5) "ğ‘«")
  ((KP_6) "ğ‘¬")
  ((KP_7) "ğ‘­")
  ((KP_8) "ğ‘®")
  ((KP_9) "ğ‘¯")
  ((S-\ ) "â€Œ")
  ((C-@) "â€"))

 (dependent
  ("a" (delete @-) "")
  ("A" (delete @-) "ğ‘€¸")
  ("AA" (delete @-) "ğ‘€¹")
  ("i" (delete @-) "ğ‘€º")
  ("I" (delete @-) "ğ‘€»")
  ("u" (delete @-) "ğ‘€¼")
  ("U" (delete @-) "ğ‘€½")
  ("R" (delete @-) "ğ‘€¾")
  ("RR" (delete @-) "ğ‘€¿")
  ("e" (delete @-) "ğ‘‚")
  ("ai" (delete @-) "ğ‘ƒ")
  ("o" (delete @-) "ğ‘„")
  ("au" (delete @-) "ğ‘…")
  ("LL" (delete @-) "ğ‘€")
  ("LLL" (delete @-) "ğ‘"))

 (return
  ((Return)))

 (backspace
  ((BackSpace) (undo))))

(state
 (init
  (starter (pushback 1) (shift intermediate)))

 (intermediate
  (consonant (shift second))
  (independent (shift init))
  (backspace)
  (return (shift init)))

 (second
  (consonant)
  (dependent (shift init))
  (backspace)
  (return (shift init))))

;; Local Variables:
;; coding: utf-8
;; mode: emacs-lisp
;; End:
